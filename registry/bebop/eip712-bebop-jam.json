{
  "$schema": "../../specs/erc7730-v1.schema.json",
  "includes": "common-eip712-base.json",

  "context": {
    "eip712": {
      "schemas": [
        {
          "types": {
            "EIP712Domain": [
              { "name": "name", "type": "string" },
              { "name": "chainId", "type": "uint256" },
              { "name": "verifyingContract", "type": "address" }
            ],
            "TokenPermissions": [
              { "name": "token", "type": "address" },
              { "name": "amount", "type": "uint256" }
            ],
            "JamOrder": [
              { "name": "taker", "type": "address" },
              { "name": "receiver", "type": "address" },
              { "name": "expiry", "type": "uint256" },
              { "name": "exclusivityDeadline", "type": "uint256" },
              { "name": "nonce", "type": "uint256" },
              { "name": "executor", "type": "address" },
              { "name": "partnerInfo", "type": "uint256" },
              { "name": "sellTokens", "type": "address[]" },
              { "name": "sellAmounts", "type": "uint256[]" },
              { "name": "buyTokens", "type": "address[]" },
              { "name": "buyAmounts", "type": "uint256[]" },
              { "name": "hooksHash", "type": "bytes32" }
            ],
            "PermitBatchWitnessTransferFrom": [
              { "name": "permitted", "type": "TokenPermissions[]" },
              { "name": "spender", "type": "address" },
              { "name": "nonce", "type": "uint256" },
              { "name": "deadline", "type": "uint256" },
              { "name": "witness", "type": "JamOrder" }
            ]
          },
          "primaryType": "PermitBatchWitnessTransferFrom"
        }
      ]
    }
  },

  "display": {
    "formats": {
      "PermitBatchWitnessTransferFrom": {
        "intent": "Bebop Jam Order",
        "fields": [
          {
            "path": "spender",
            "label": "Approved Spender",
            "format": "addressName"
          },
          {
            "path": "permitted.[]",
            "fields": [
              {
                "path": "amount",
                "label": "Approval Amount",
                "format": "tokenAmount",
                "params": {
                  "tokenPath": "token"
                }
              }
            ]
          },
          {
            "path": "witness",
            "fields": [
              {
                "path": "taker",
                "label": "Taker",
                "format": "addressName"
              },
              {
                "path": "receiver",
                "label": "Receiver",
                "format": "addressName"
              },
              {
                "path": "sellAmounts.[]",
                "fields": [
                  {
                    "path": "",
                    "label": "Sell Amount",
                    "format": "tokenAmount",
                    "params": {
                      "tokenPath": "witness.sellTokens.[_index]"
                    }
                  }
                ]
              },
              {
                "path": "buyAmounts.[]",
                "fields": [
                  {
                    "path": "",
                    "label": "Buy Amount",
                    "format": "tokenAmount",
                    "params": {
                      "tokenPath": "witness.buyTokens.[_index]"
                    }
                  }
                ]
              }
            ]
          },
          {
            "path": "deadline",
            "label": "Deadline",
            "format": "date",
            "params": { "encoding": "timestamp" }
          }
        ],
        "excluded": [
          "nonce",
          "witness.exclusivityDeadline",
          "witness.nonce",
          "witness.executor",
          "witness.partnerInfo",
          "witness.hooksHash"
        ]
      }
    }
  }
}
